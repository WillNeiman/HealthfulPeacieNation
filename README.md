# HealthfulPeacieNation
JSP project that I worked on in Feburary

이 프로젝트는 신림동 소재 국비학원을 다니며 만 2개월이 되었을 무렵 시작한 팀 프로젝트이다.
개발 분야는 아니었지만 전 회사에서 운영 팀장이자 기획자로서의 경험이 있었기에 PM을 맡게 되었다.

아래는 본 프로젝트에 대한 설명들이다.
---
### 프로젝트 기간
2023/02/28 ~ 2023/03/28 (1개월)
### back-end
java
- 기본서 공부를 마친 상태. 대략 컬렉션 프레임워크 까지의 개념을 익혔다.
- 문법는 대부분 익혔기에 코드를 읽고 이해하는 데에는 무리가 없었지만, 속도는 많이 느렸다.  
RDBMS
- MySQL, Oracle, MariaDB, H2를 사용해 스키마 생성 및 데이터 crud를 할 수 있었다.
- 서브쿼리나 조인 등을 제대로 활용할 수 없었다.
### front-end
html
- default 세팅을 변경하지 않는 선에서 작업이 가능했다.
- 데이터를 원하는 형태로 표현하기 위해 어떤 태그를 사용해야 하는지 알고 있었다.
css
- class, id, 혹은 in-line 속성을 사용하여 css를 적용하는 방법을 알고 있었다.
- 원하는 꾸미기 속성을 적용하기 위해서는 70% 정도 구글링이 필요했다.
javascript
- 완벽하게 모르는 상태였다.
- 모르는 것은 100% 구글링과 ChatGPT를 통해 그때그때 해결했다.
### JSP
- JSP 태그를 사용할 수 있었다. 그러나 모든 구현은 scriptlet과 Expression만으로 해결했다.
- JSP기술 자체가 생산성/경쟁력이 떨어진다고 판단했기 때문이다.
- java 문법 자체에 대한 이해도가 아직 부족했기에, 순수 java 코드를 최대한 많이 활용하여 숙련도를 높이고 싶었다.
### 알고리즘
원하는 기능을 구현하는 데에 필요한 알고리즘을 직접 고민하고 다이어그램으로 표현할 수 있었다.
- 주문 기능의 경우 members, orders, goods, orderGoods 등 다양한 데이터베이스와 상호 의존성을 이해하고 풀어낼 수 있었다.
### 디자인 패턴
유튜브 무료강의들을 보니 Model, View, Controller의 계층을 나눠서 작업하는 걸 보고 아이디어를 얻어 프로젝트에 적용했다.
- DTO, Repository, Service 계층은 자바 클래스로 해결했고, Controller 및 View는 JSP를 사용했다.
- 하나의 계층이 일관된 목적을 수행하도록 구현하는 데에 집중했다.
- - Repository는 오직 jdbc 메소드만을 호출한다.
- - DTO는 오직 엔티티 전달만을 목적으로 한다.
- - Service는 비즈니스 로직을 구현하며, Repository와 DTO의 의존성을 연결하는 역할을 수행한다.
- - JSP 계층은 클라이언트의 요청에 따라 Service 계층에 데이터를 전달하고, 반환 받은 데이터를 렌더링하는 역할만 수행한다.
다만 이 프로젝트를 하던 당시에는 서블릿 클래스의 존재를 알지 못했다.
- 따라서 JSP 파일에 컨트롤러 로직과 렌더링을 모두 구현했다. 따라서 완전한 MVC를 구현할 수 없었다.
- 백엔드와 프론트엔드를 한 파일이 모두 구현함에 따라 코드 복잡성이 높아졌고 유지보수는 굉장히 어려웠다.
---
## 내가 작업한 부분
1. 회원 기능 : front, back, db - 100%
2. 주문 기능 : front, back, db - 100%
3. 상품 기능 : front, back, db - 100%
4. 장바구니 기능 : front, back, db - 100%
5. 관리자 기능 : front, back, db - 100%
6. 리뷰 기능 : front, back, db - 80%
7. 예약 기능 : front -30%
---
### ETC...
아쉬운 점들이 많았다.  
프로젝트 종료 시까지 해결하지 못한 문제는 다음과 같다.
- 커넥션 관리 실패. TNS Listener가 끊기는 현상
- - 국비학원의 PC로 작업했는데, 학원에서 배운 레거시 방식의 커넥션 풀이 PC 환경에 따라 작동이 안되는 오류가 있었다.
- - - Maven, Gradle 빌드를 통해 Spring Web 의존성을 이용하면 안정적인 커넥션 풀이 기본 제공된다는 것을 나중에야 알았다.
- - 조회 쿼리를 최적화하지 못한 이유도 있다. 백엔드 개발자로서의 가장 큰 실책이 아닐까 한다. 조인을 적극적으로 활용하지 못했으며, 가령 주문내역에서는 모든 주문건(Order)와 각 주문건에 담긴 주문상품(OrderGoods)를 불러오며, 그 주문상품은 다시 상품(Goods)를 참조하는 식이었다. N+1 문제를 직접 발생시켰던 것이다.
- - - 조인과 지연 로딩, 그리고 엔티티를 직접 매핑하는 것이 아닌 목적에 정확히 맞는 DTO를 별도로 만들어 사용하는 것이 훨씬 좋다는 것을 알게 되었다.
- 보일러플레이트 코딩
- - 단축키나 자동 생성 기능들을 적극적으로 사용하지 않았다. getter, setter를 모두 하나하나 직접 만들었다.
- - ORM을 사용할 줄 몰라서 모든 JDBC 메소드를 수작업으로 제작했다.
- - - 여기서 엔티티를 초기화할 때 생성자 초기화와 setter 초기화를 목적 없이 혼용하는 실수를 했다.
- - 사실 마냥 아쉽기만 한 것은 아니다.
- - - 손으로 직접 코드를 작성해보면서 배우는 컴파일, 런타임 에러를 직접 마주하고 에러 메시지를 분석하며 java라는 언어를 이해하는 데에 큰 도움이 되었다.
